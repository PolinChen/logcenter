
## 什麼是日誌文件(log file)



進展和挑戰日誌分析
日誌中包含了豐富的信息管理系統的幫助。


> 本文提供了一些日誌分析的最常見的應用場景，描述了一些可能會分析日誌並分析它們的方法，並闡述了一些揮之不去的挑戰。日誌分析是研究的一個豐富的現場;而這是不是我們的目標提供了文獻調查，我們打算提供的，為什麼日誌分析是既重要和困難的清醒的認識。


## debugging

許多日誌是為了方便調試。對於調試日誌最簡單和最常見的用途是對grep特定的消息。
如果一台服務器運營商認為，一個程序崩潰，因為網絡故障，那麼他或她可能會嘗試在服務器日誌中找到了“連接失敗”的消息。在許多情況下，很難找出要搜索的內容，因為有日誌消息和觀察到的症狀之間沒有明確定義的映射。
當Web服務突然變得緩慢，運營商不太可能看到一個明顯的錯誤消息說，“錯誤：該服務的等待時間增​​加了10％，因為錯誤的X觸發”。

## 性能

日誌分析能夠幫助優化或調試系統性能。了解一個系統的性能往往與了解如何在系統中的資源的使用。一些日誌中的相同調試，如記錄鎖定操作調試瓶頸的情況。有些日誌跟踪使用單獨的資源，產生的時間序列。資源使用統計信息常常是在每個時間段累積使用的形式（例如，在最後一分鐘傳輸的b比特）。有人可能會利用帶寬的數據來表徵網絡或磁盤的性能，頁面交換表徵內存效能，或CPU使用率來表徵負載均衡的品質。

性能問題通常是由部件之間的相互作用引起的，並揭示這些相互作用可能必須從綜合多個源產生的異構日誌的信息。不同元件的關聯分析可以是具有挑戰性的。除了異構日誌格式，在分佈式系統中的組件可能不同意的確切時間，使不可能重建跨多個組件事件的確切順序。也即良性到一個組件的事件（例如，日誌刷新到磁盤）可能會導致另一個嚴重的問題（例如，由於在I / O資源爭）。作為引起問題的部件不大可能記錄事件，可能很難捕捉到這一根本原因。這些只是一小部分所出現的困難。

## 安全

日誌也用於安全應用，如檢測違規或不當行為，以及用於執行安全事件的死後檢查。根據不同的系統和威脅模型上，幾乎任何類型的日誌，可能是服從安全分析：與防火牆，登錄會話，資源利用率，系統調用，網絡流量等日誌

## 預測

日誌數據​​可以用來預測和提供的未來。預測模型有助於自動化或提供資源配置，容量規劃，工作負載管理，調度和優化配置的見解。從商業的角度來看，預測模型可以指導營銷策略，廣告投放，或庫存管理。

一些分析模型是建立為特定系統。專家手動識別依賴和相關指標，量化組件之間的關係，並制定一個預測策略。這樣的模型通常用於構建與重播預期工作量擾動或負載量記錄。使用分析模型，性能預測的例子在I / O子系統，磁盤陣列，數據庫和靜態Web服務器上。

## 報告和性能分析

日誌分析的另一個用途是個人資料資源利用率，工作負載，或用戶的行為。從集群的工作量任務的記錄特性可用於在大型數據中心來分析資源利用日誌。相同的數據可能被利用，以了解在工作負載作業之間到達間隔時間，以及晝夜模式。

除了系統管理，分析用於業務分析。例如，Web服務器日誌描述遊客到一個網站，該網站可以產生客戶人口統計或轉換和落客的統計數據。網絡日誌分析技術的範圍從簡單的統計，捕捉頁面的普及趨勢，描述在多個用戶會話訪問模式複雜的時間序列方法。這些見解告知營銷活動，內容託管和資源配置。

## 記錄基礎設施

一個日誌基礎設施是支持多種這裡描述應用至關重要。這至少需要兩個特點：日誌生成和日誌存儲。

最通用的日誌是非結構化的文本，分析需要解析的文本消息，它是複雜和昂貴。


選擇合適的日誌存儲解決方案涉及以下權衡：

*每TB成本（前期和維護）

*總容量

*持久性保證

*寫訪問的特性（例如，帶寬和延遲）

*讀取訪問特性（例如，隨機訪問與順序掃描）

*安全方面的考慮（例如，訪問控制和法規遵從）

*集成與現有基礎設施

有沒有一個放之四海而皆準的所有日誌保留策略。這使得選擇和配置日誌解決方案的挑戰。日誌是通常被認為比調試日誌更重要，因此用於商業智能有用的是保持一個較長的時間。與此相反，大多數調試日誌存儲為盡可能長，但沒有任何保留的保證，這意味著它們可資源壓力下被刪除。

日誌存儲在與警報和報告功能結合的解決方案是更為有用。這樣的基礎設施可以利用進行調試，安全性，和其它系統管理任務。各種日誌的存儲解決方案方便的警告和報告，但他們離開有關警報合併，報表加速和預測能力，許多開放的挑戰。

## 結論

本文中的應用和實施例說明在何種程度上系統管理已成為日誌為中心。無論是用於調試問題或配置資源，日誌中包含了豐富的信息，可以精確定位，或者至少牽連，解決方案。

雖然日誌分析技術最近已取得很大進展，一些挑戰依然存在。首先，作為系統日趨由許多，常常分佈，組件，使用單個日誌文件並監控由不同的部件的事件的系統是困難的。在某些情況下，從完全不同的系統日誌必須是分析的交叉關聯。例如，支持組織可以與相關網絡訪問日誌電話通話記錄來跟踪如何為產品地址的在線文檔常見問題與眾多的客戶同時是如何支持通話過程中搜索的在線文檔。交錯異構日誌很少是直接的，尤其是當時間戳不同步或目前在所有日誌和語義時不一致跨組件。

其次，記錄過程本身需要額外的管理。控制記錄的詳細程度是很重要的，尤其是在尖峰或潛在的敵對行為的情況下，開銷管理和便於分析。記錄機制應該也不會傳播惡意活動的信道。它仍然以盡量減少檢測開銷同時最大限度地提高信息內容的一個挑戰。

第三個挑戰是，儘管各種分析和統計建模技術可以挖掘大量日誌數據，他們並不總是提供可操作的見解。例如，統計技術可以揭示工作量或系統的CPU利用率較高，但不能解釋做些什麼異常。該信息的解釋是主觀的，無論是信息可操作與否取決於很多因素。重要的是要調查該折衷效率，準確性及可訴的技術是重要的。

有幾個有前途的研究方向。由於人類可能仍將解釋和作用於日誌在可預見的未來進程的一部分，在可視化技術的進步應該是值得的。

程序分析方法，靜態和動態，許諾增加我們對自動表徵引起日誌消息的特定序列的相互作用和情況的能力。最近的工作旨在修改現有的儀器，使日誌或者是更適合於各種分析或提供更全面的信息。雖然這樣的修改並不總是可能的，深入了解如何產生更多的有用的日誌常伴見解如何分析現有日誌。機制來驗證日誌信息的有用性將提高測井質量，使得日誌分析更有效。

由於許多企業越來越依賴於他們的計算基礎設施，更不用說他們提供計算基礎設施或服務的經營企業本身，所以做這些系統之間的關係的重要性。我們已經看到在工具的興起試圖推斷出系統如何影響用戶：延遲如何影響購買決策;點擊有多好模式描述了用戶的滿意度;和資源調度決策如何改變這些資源的需求。相反，最近的研究表明，用戶活動可以進行系統調試。用戶行為（工作量）和系統行為之間的關係，進一步探討可能被證明對於理解登錄使用的時候，為了什麼目的。

這些研究方向，以及更好的記錄標準和最佳實踐，將在提高日誌分析的技術發展水平的工具。



參考資料：



[Advances and Challenges in Log Analysis](http://queue.acm.org/detail.cfm?id=2082137) ＊ 


